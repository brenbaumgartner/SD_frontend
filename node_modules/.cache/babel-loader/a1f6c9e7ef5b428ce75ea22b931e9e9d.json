{"ast":null,"code":"import _slicedToArray from \"C:\\\\Users\\\\brenb\\\\Downloads\\\\techis-wd-forum-django-react-main\\\\Bren's Project File\\\\frontend\\\\node_modules\\\\babel-preset-react-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/slicedToArray\";\nvar _this = this,\n  _jsxFileName = \"C:\\\\Users\\\\brenb\\\\Downloads\\\\techis-wd-forum-django-react-main\\\\Bren's Project File\\\\frontend\\\\src\\\\components\\\\Common\\\\Item.jsx\";\nimport React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addCart, increaseCart, decreaseCart } from '../../';\nimport { getCarts, getSubtotal } from '../../reducks/carts/selectors';\nimport { push } from 'connected-react-router';\nvar Item = function Item(_ref) {\n  var item = _ref.item;\n  var selector = useSelector(function (state) {\n    return state;\n  });\n  var dispatch = useDispatch();\n  var carts = getCarts(selector);\n  var subtotal = getSubtotal(selector);\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    particularCart = _useState2[0],\n    setParticularCart = _useState2[1];\n  var key = localStorage.getItem('LOGIN_USER_KEY');\n  useEffect(function () {\n    if (carts != undefined && carts.length > 0) {\n      console.log('carts');\n      console.log(carts);\n      var matchedCarts = carts.filter(function (cart) {\n        return cart.item.id == item.id;\n      });\n      console.log('matchedCarts');\n      console.log(matchedCarts);\n      if (matchedCarts.length > 0) {\n        setParticularCart(matchedCarts[0]);\n      } else {\n        setParticularCart(null);\n      }\n    }\n  }, [subtotal]);\n  var clickAddCart = function clickAddCart() {\n    if (key) {\n      dispatch(addCart(item));\n    } else {\n      dispatch(push('/signin'));\n    }\n  };\n  var clickPlusCart = function clickPlusCart() {\n    dispatch(increaseCart(particularCart.id));\n  };\n  var clickMinusCart = function clickMinusCart() {\n    dispatch(decreaseCart(particularCart.id));\n  };\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-background\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-image\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"img\", {\n    src: item.image,\n    alt: \"Items\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 21\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-bottom\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"item-price\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(\"h5\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 21\n    }\n  }, item.name), /*#__PURE__*/React.createElement(\"p\", {\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 21\n    }\n  }, \"$\", item.price)), particularCart && particularCart.quantity > 0 ? /*#__PURE__*/React.createElement(\"div\", {\n    class: \"added-cart\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"span\", {\n    id: \"minus\",\n    onClick: clickMinusCart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 25\n    }\n  }, \"\\uFF0D\"), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"count\",\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, particularCart.quantity), /*#__PURE__*/React.createElement(\"span\", {\n    id: \"plus\",\n    onClick: clickPlusCart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 25\n    }\n  }, \"+\")) : /*#__PURE__*/React.createElement(\"button\", {\n    onClick: clickAddCart,\n    __self: _this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"ADD TO CART\")));\n};\nexport default Item;","map":{"version":3,"names":["React","useEffect","useState","useDispatch","useSelector","addCart","increaseCart","decreaseCart","getCarts","getSubtotal","push","Item","_ref","item","selector","state","dispatch","carts","subtotal","_useState","_useState2","_slicedToArray","particularCart","setParticularCart","key","localStorage","getItem","undefined","length","console","log","matchedCarts","filter","cart","id","clickAddCart","clickPlusCart","clickMinusCart","createElement","Fragment","className","__self","_this","__source","fileName","_jsxFileName","lineNumber","columnNumber","src","image","alt","name","price","quantity","class","onClick"],"sources":["C:/Users/brenb/Downloads/techis-wd-forum-django-react-main/Bren's Project File/frontend/src/components/Common/Item.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport { addCart, increaseCart, decreaseCart } from '../../';\nimport { getCarts, getSubtotal } from '../../reducks/carts/selectors';\nimport { push } from 'connected-react-router';\n\nconst Item = ({ item }) => {\n    const selector = useSelector(state => state);\n    const dispatch = useDispatch();\n    const carts = getCarts(selector);\n    const subtotal = getSubtotal(selector);\n    const [particularCart, setParticularCart] = useState(null);\n    const key = localStorage.getItem('LOGIN_USER_KEY');\n\n    useEffect(() => {\n        if (carts != undefined && carts.length > 0) {\n            console.log('carts');\n            console.log(carts);\n            let matchedCarts = carts.filter(cart => cart.item.id == item.id);\n            console.log('matchedCarts');\n            console.log(matchedCarts);\n            if (matchedCarts.length > 0) {\n                setParticularCart(matchedCarts[0]);\n            } else {\n                setParticularCart(null);\n            }\n        }\n    }, [subtotal]);\n\n    const clickAddCart = () => {\n        if (key) {\n            dispatch(addCart(item));\n        } else {\n            dispatch(push('/signin'));\n        }\n    };\n    const clickPlusCart = () => {\n        dispatch(increaseCart(particularCart.id));\n    };\n    const clickMinusCart = () => {\n        dispatch(decreaseCart(particularCart.id));\n    };\n    return (\n        <>\n            <div className=\"item-background\">\n                <div className=\"item-image\">\n                    <img src={item.image} alt=\"Items\" />\n                </div>\n            </div>\n            <div className=\"item-bottom\">\n                <div className=\"item-price\">\n                    <h5>{item.name}</h5>\n                    <p>${item.price}</p>\n                </div>\n                {particularCart && particularCart.quantity > 0 ? (\n                    <div class=\"added-cart\">\n                        <span id=\"minus\" onClick={clickMinusCart}>\n                            Ôºç\n                        </span>\n                        <span id=\"count\">{particularCart.quantity}</span>\n                        <span id=\"plus\" onClick={clickPlusCart}>\n                            +\n                        </span>\n                    </div>\n                ) : (\n                    <button onClick={clickAddCart}>\n                        ADD TO CART\n                    </button>\n                )}\n            </div>\n        </>\n    );\n};\n\nexport default Item;\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}